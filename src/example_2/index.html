<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Tutorial: Hello Dojo!</title>
    <!-- load Dojo -->
    <script src="dojo/dojo.js"></script>
    <script>
	dojo.require("dijit.form.Button");
	dojo.ready( function() {
		dojo.connect(dojo.byId("greeting"),"onclick", myclick);

		var butt = new dijit.form.Button({
		    label: "Click me!",
		    onClick: function() {
			dojo.byId("myresult").innerHTML += "Thank you! ";
		    }
		});
		

		var area = dojo.byId("area");
		dojo.create("b", {
			innerHTML: "INSIDE AREA"
			}, area);
		dojo.place(butt,area,"first");
		
	});
	function myclick() {
		var id = "12345";
		var def = dojo.xhrPost( {
			url: "dojo.txt",
			handleAs: "json",
			postData: "{ \"jsonrpc\": \"2.0\", \"method\": \"_echo\", \"params\":{\"value\":\"fooey\"}, \"id\":\""+id+"\" }\n"
		});
		def.then( function(r) {
				if ( r.error ) {
					alert("Error! id:" + r.id + " msg="+r.error.message);
				} else {
					alert("Success! id:" + r.id + " result="+r.result);
				}
				// console.log(result,typeof result);

			},
			function(err) {
				alert("Error: " + err);
			});
	}
	    
    </script>
        <link rel="stylesheet" type="text/css" href="dijit/themes/claro/claro.css" />
</head>
<body>
	<h1 id="greeting">Hello</h1>
	<div id="myresult"></div>
<button class="claro" dojoType="dijit.form.Button" iconClass="dijitEditorIcon dijitEditorIconCut"
showLabel="false" type="button">
This is a button
</button>
<div id="area">My Area</div>
	

</body>
</html>
