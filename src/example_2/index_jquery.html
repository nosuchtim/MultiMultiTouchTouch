<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>MMTT - Graphics</title>
<link rel="stylesheet" type="text/css" href="css/themes/sunny/jquery-ui-1.8.12.custom.css">
<script type="text/javascript" src="js/jquery-1.5.2.js"></script>
<script type="text/javascript" src="jqueryui/js/jquery-ui-1.7.2.custom.min.js"></script>
<link href="css/demos.css" rel="stylesheet" type="text/css" />

<script>

function createTable(div_id,rows) {
	 $("#slider").slider();
	 return;
	var $b = $('<button>')
		.attr('id','jsontest2')
		.text("JSON test 2");
	$('#buttontest').append($b);

	var $tbl = $("<table>")
		.attr('id', 'basicTable')
		.attr('width', 200)
		.attr('border', 1);
	for (var r=1; r<=rows; r++) {
		var $cellid = "jsontest"+r;
		var $butt2 = $('<button>')
			.attr('id',$cellid)
			.text("Button "+$cellid)
			.click( {"row":r,"col":44}, buttonClickNew );
		var $div1id = "div"+r;
		var $div1 = $('<div>')
			.button()
			.attr('id',$div1id)
			.click( {"row":-2,"col":77}, buttonNewest )
			.text("DIVBUTT");
		var $td1 = $('<td>')
			.append($div1);
		var $td2 = $('<td>')
			.append($butt2);
		$tbl.append(
	       		$("<tr>")
				.append(
					$('<td>')
						.attr('align','center')
						.attr('width',100)
						.text(r),
					$td1,
					$td2,
					$('<td>').text("two")
					)
			);
	}
	div_id.append($tbl);
	return;
}

function buttonNewest(event) {
	alert("Newest! row="+event.data.row);
}
function buttonClickNew(event) {
            $('<p/>', { html: "begin test NEW r="+event.data.row+" c="+event.data.col }).appendTo('body');
	    var id = "12345";
            $.ajax({ url: "test.txt",
		type: "POST",
		data: "{ \"jsonrpc\": \"2.0\", \"method\": \"_echo\", \"params\":{\"value\":\"fooey\"}, \"id\":\""+id+"\" }\n",
		async: false,
                success: function (result) {
                    $('<p/>', { html: "TEST1 WORKED result="+result }).appendTo('body');
                }, 
                error: function (result) {
                    $('<p/>', { html: "TEST1 ERROR" }).appendTo('body');
                },
                complete: function (result) {
                    $('<p/>', { html: "TEST1 COMPLETE" }).appendTo('body');
                } 
            });
            $('<p/>', { html: "end test NEW" }).appendTo('body');
}
    $(document).ready(function () {
	createTable($("#params"), 7);
    });
</script>
</head>
<body>
JSON test page

<div id="buttontest"></div>
<div id="params"></div>
<div id="slider"></div>

</body>
</html>
